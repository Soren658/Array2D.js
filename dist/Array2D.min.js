// Array2D.js 0.0.1
// Copyright (c) 2014 Matthew Trost
// Array2D.js may be freely distributed under the MIT license.
(function(){function n(n){return"[object Array]"===Object.prototype.toString.call(n)}function t(n){return null===n}function r(n){return void 0===n}function e(n){return t(n)||r(n)}function u(n){return!e(n)}function i(n){return!r(n)}function o(n){for(var t=[],r=0,e=n.length;e>r;r++)t[r]=n[r];return t}var a=this,f=a.Array2D,c=function(){return this instanceof c?void 0:new c};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.Array2D=c):a.Array2D=c,c.VERSION="0.0.1",c.noConflict=function(){return a.Array2D=f,this},c.AXES={X:1,Y:2},c.BEARINGS={NORTH:1,NORTHWEST:2,NORTHEAST:3,SOUTH:4,SOUTHWEST:5,SOUTHEAST:6,EAST:7,WEST:8},c.CORNERS={TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_LEFT:3,BOTTOM_RIGHT:4},c.DIRECTIONS={UP:1,DOWN:2,LEFT:3,RIGHT:4},c.EDGES={TOP:1,BOTTOM:2,LEFT:3,RIGHT:4},c.QUADRANTS={I:1,II:2,III:3,IV:4},c.get=function(t,r,e){return n(t[r])?t[r][e]:void 0},c.set=function(t,r,e,u){var i=c.clone(t);return n(i[r])||(i[r]=[]),i[r][e]=u,i},c.width=function(n){return c.widest(n).length},c.height=function(n){return c.tallest(n).length},c.area=function(n){var t=c.width(n),r=c.height(n);return t*r},c.cells=function(n){var t=0;return c.eachCell(n,function(n){i(n)&&t++}),t},c.clone=function(t){var r=[];return c.eachCell(t,function(t,e,u){n(r[e])||(r[e]=[]),r[e][u]=t}),r},c.build=function(n,t,e){var u=[];r(e)&&(e=null);for(var i=0,o=t;o>i;i++){u[i]=[];for(var a=0,f=n;f>a;a++)u[i][a]=e}return u},c.serialize=function(n){return JSON.stringify(n)},c.nullify=function(t){var r=c.clone(t);return c.eachCell(r,function(t,e,u){n(r[e])||(r[e]=[]),i(t)&&(r[e][u]=null)}),r},c.check=function(t){return n(t)&&n(t[0])?!0:!1},c.ragged=function(n){var t=c.widest(n),r=c.thinnest(n);return t.length!==r.length},c.rectangular=function(n){return!c.ragged(n)},c.singular=function(n){var t=c.width(n),r=c.height(n);return 1===t&&1===r},c.multitudinous=function(n){return!c.singular(n)},c.sparse=function(n){var t=!1;return c.eachCell(n,function(n){e(n)&&(t=!0)}),t},c.dense=function(n){return!c.sparse(n)},c.integerize=function(n){var t=c.clone(n);return c.eachCell(t,function(n,r,e){t[r][e]=parseInt(n)}),t},c.stringize=function(n){var t=c.clone(n);return c.eachCell(t,function(n,r,e){t[r][e]=String(n)}),t},c.tidy=function(n){for(var t=[],e=c.width(n),u=c.height(n),i=0,o=e;o>i;i++){t[i]=[];for(var a=0,f=u;f>a;a++){var h=c.get(n,i,a);t[i][a]=r(h)?null:h}}return t},c.same=function(n,t){var r=c.width(n),e=c.height(n),u=c.width(t),i=c.height(t);if(r!==u)return!1;if(e!==i)return!1;for(var o=0;r>o;o++)for(var a=0;u>a;a++)if(n[o][a]!==t[o][a])return!1;return!0},c.different=function(n,t){return!c.same(n,t)},c.empty=function(n){return n.length<1?!0:1===n.length&&n[0].length<1?!0:!1},c.blank=function(n){var t=!0,r=c.empty(n);return r?!0:(c.eachCell(n,function(n){e(n)||(t=!1)}),t)},c.contains=function(n,t){var r=!1;return c.eachCell(n,function(n){n===t&&(r=!0)}),r},c.eachCell=function(n,t){for(var r=0,e=n.length;e>r;r++)for(var u=n[r],i=0,o=u.length;o>i;i++){var a=u[i];t(a,r,i,n)}},c.eachRow=function(n,t){for(var r=0,e=n.length;e>r;r++){var u=n[r];t(o(u),r,n)}},c.eachColumn=function(n,t){var r=c.transpose(n);c.eachRow(r,t)},c.crop=function(n,t,r,e,u){for(var i=[],o=c.width(n),a=c.height(n),f=0;u>f;f++){var h=t+f;if(a>h&&h>=0){i.push([]);for(var l=0;e>l;l++){var s=r+l;if(o>s&&s>=0){var v=i[i.length-1],g=n[h][s];v.push(g)}}}}return i},c.harvest=function(n,t,r,e,u){for(var i=[],o=c.width(n),a=c.height(n),f=0;u>f;f++){i[f]=[];for(var h=0;e>h;h++){var l=t+f,s=r+h;if(l>=a||0>l)i[f][h]=null;else if(s>=o||0>s)i[f][h]=null;else{var v=n[l][s];i[f][h]=v}}}return i},c.row=function(n,t){return o(n[t])},c.column=function(n,t){var r=c.transpose(n);return c.row(r,t)},c.top=function(n){return o(n[0])},c.bottom=function(n){return o(n[n.length-1])},c.left=function(n){c.transpose(n);return c.top(n)},c.right=function(n){c.transpose(n);return c.bottom(n)},c.widest=function(n){var t=n[0];return c.eachRow(n,function(n){n.length>t.length&&(t=n)}),o(t)},c.thinnest=function(n){var t=n[0];return c.eachRow(n,function(n){n.length<t.length&&(t=n)}),o(t)},c.tallest=function(n){var t=c.transpose(n);return c.widest(t)},c.shortest=function(n){var t=c.transpose(n);return c.thinnest(t)},c.exists=function(n,t,e){return!r(c.get(n,t,e))},c.occupied=function(n,t,r){return u(c.get(n,t,r))},c.edge=function(n,t,r){if(0===t)return!0;if(0===r)return!0;var e=c.width(n),u=c.height(n);return t===u-1?!0:r===e-1?!0:!1},c.corner=function(n,t,r){if(0===t&&0===r)return!0;var e=c.width(n),u=c.height(n);return 0===t&&r===e-1?!0:t===u-1&&r===e-1?!0:t===u-1&&0===r?!0:!1},c.edges=function(n,t,r){var e=[];0===t&&e.push(c.EDGES.TOP),0===r&&e.push(c.EDGES.LEFT);var u=c.width(n),i=c.height(n);return t===i-1&&e.push(c.EDGES.BOTTOM),r===u-1&&e.push(c.EDGES.RIGHT),e},c.corners=function(n,t,r){var e=[];0===t&&0===r&&e.push(c.CORNERS.TOP_LEFT);var u=c.width(n),i=c.height(n);return 0===t&&r===u-1&&e.push(c.CORNERS.TOP_RIGHT),t===i-1&&r===u-1&&e.push(c.CORNERS.BOTTOM_RIGHT),t===i-1&&0===r&&e.push(c.CORNERS.BOTTOM_LEFT),e},c.center=function(n,t,r){var e=c.width(n),u=c.height(n);return e%2===0?!1:u%2===0?!1:Math.floor(u/2)!==t?!1:Math.floor(e/2)!==r?!1:!0},c.interior=function(n,t,r){if(0===t)return!1;if(0===r)return!1;var e=c.width(n),u=c.height(n);return 3>e?!1:3>u?!1:t>=u-1?!1:r>=e-1?!1:!0},c.quadrants=function(n,t,r){var e=[],u=c.width(n),i=c.height(n),o=Math.floor(u/2),a=Math.floor(i/2);return a>=t&&r>o&&e.push(c.QUADRANTS.I),a>=t&&o>=r&&e.push(c.QUADRANTS.II),t>a&&o>=r&&e.push(c.QUADRANTS.III),t>a&&r>o&&e.push(c.QUADRANTS.IV),e},c.orthogonals=function(n,t,r){var e=[];return e[0]=c.get(n,t-1,r),e[1]=c.get(n,t,r-1),e[2]=c.get(n,t,r+1),e[3]=c.get(n,t+1,r),e},c.diagonals=function(n,t,r){var e=[];return e[0]=c.get(n,t-1,r-1),e[1]=c.get(n,t-1,r+1),e[2]=c.get(n,t+1,r-1),e[3]=c.get(n,t+1,r+1),e},c.neighbors=function(n,t,r){var e=c.orthogonals(n,t,r),u=c.diagonals(n,t,r),i=[];return i[0]=u[0],i[1]=e[0],i[2]=u[1],i[3]=e[1],i[4]=e[2],i[5]=u[2],i[6]=e[3],i[7]=u[3],i},c.neighborhood=function(n,t,r){var e=c.get(n,t,r),u=c.neighbors(n,t,r);return[[u[0],u[1],u[2]],[u[3],e,u[4]],[u[5],u[6],u[7]]]},c.copy=function(n,t,r,e,u){var i=c.get(n,t,r);return c.set(n,e,u,i)},c.move=function(n,t,r,e,u){var i=c.get(n,t,r),o=c.set(n,e,u,i);return c.set(o,t,r,null)},c.swap=function(n,t,r,e,u){var i=c.get(n,t,r),o=c.get(n,e,u),a=c.set(n,e,u,i);return c.set(a,t,r,o)},c.euclidean=function(n,t,r,e,u){return Math.sqrt(Math.pow(e-t,2)+Math.pow(u-r,2))},c.chebyshev=function(n,t,r,e,u){var i=Math.abs(e-t),o=Math.abs(u-r);return i>o?i:o},c.manhattan=function(n,t,r,e,u){return Math.abs(e-t)+Math.abs(u-r)},c.map=function(t,r){var e=[];return c.eachCell(t,function(t,u,i,o){n(e[u])||(e[u]=[]);var a=r(t,u,i,o);e[u][i]=a}),e},c.rotate=function(n,t){return t===c.DIRECTIONS.LEFT?c.lrotate(n):t===c.DIRECTIONS.RIGHT?c.rrotate(n):void 0},c.lrotate=function(n){var t=c.transpose(n);return c.vflip(t)},c.rrotate=function(n){var t=c.transpose(n);return c.hflip(t)},c.flip=function(n,t){if(t===c.AXES.X)return c.vflip(n);if(t===c.AXES.Y)return c.hflip(n);throw"`Array2D.flip` requires a valid `axis` parameter"},c.vflip=function(n){for(var t=[],r=0,e=n.length;e>r;r++){var u=r-e+1;t[r]=n[Math.abs(u)]}return t},c.hflip=function(n){for(var t=[],r=0,e=n.length;e>r;r++){t[r]=[];for(var u=n[r],i=0,o=u.length;o>i;i++){var a=i-o+1;t[r][i]=n[r][Math.abs(a)]}}return t},c.pan=function(){},c.slide=function(){},c.transpose=function(t){var r=[];return c.eachCell(t,function(t,e,u){n(r[u])||(r[u]=[]),r[u][e]=t}),r},c.antitranspose=function(n){var t=c.rrotate(n);return c.vflip(t)},c.pad=function(){},c.trim=function(){},c.paste=function(){},c.glue=function(){},c.stitch=function(){},c.shuffle=function(){},c.flatten=function(){},c.squash=function(){},c.reduce=function(){},c.symmetrical=function(){}}).call(this);